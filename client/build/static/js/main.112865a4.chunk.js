(this["webpackJsonprecipes-front"]=this["webpackJsonprecipes-front"]||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(25),i=c.n(a),l=(c(34),c(35),c(29)),r=c(2),j=c(65),d=c(64),b=c(0);var o=function(e){var t=e.productReciept,c=e.deleteRecipeHandlerFull,n=e.inpValue;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"prodName",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435"}),t.map((function(e){return Object(b.jsxs)("div",{className:"cardHover flex-column",children:[Object(b.jsxs)("div",{className:"cardBlock",children:[Object(b.jsxs)("div",{className:"blockName pr-5",children:[Object(b.jsx)("h2",{className:"mb-5",children:Object(b.jsx)("span",{children:e.name})}),Object(b.jsx)("div",{className:"imageShow",children:Object(b.jsx)("img",{src:e.photo,alt:"recipe ".concat(e.name)})})]}),Object(b.jsxs)("div",{className:"blockIng",children:[Object(b.jsx)("h3",{children:"\u0418\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(b.jsx)("ul",{children:e.ingredients.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsxs)("ul",{className:"d-flex align-items-center justify-content-between fw-bold border-bottom",children:[Object(b.jsx)("li",{className:n.some((function(t){return t.toLowerCase()===e.name.toLowerCase()}))?"activeIngridients":"",children:"\u2714"}),Object(b.jsx)("li",{children:e.name}),Object(b.jsx)("li",{children:e.quantity})]})},t+e.name)}))})]})]}),Object(b.jsx)("div",{className:"textBlok",children:Object(b.jsx)("p",{children:e.recipe.split(" ").map((function(e,t){return n.join("").toLowerCase()===e.toLowerCase()?Object(b.jsxs)("i",{children:[e," "]},t):Object(b.jsxs)("b",{className:"fw-light",children:[e," "]},t)}))})}),Object(b.jsx)("button",{type:"submit",onClick:function(t){return c(t,e._id)},className:"h-25 p-2 rounded btnClose mt-3",title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442",children:"\u2718"})]},e._id)}))]})};var u=function(e){var t=e.productReciept,c=e.deleteRecipeHandlerPartly,n=e.inpValue;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"prodName",children:"\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435"}),t.map((function(e){return Object(b.jsxs)("div",{className:"cardHover flex-column",children:[Object(b.jsxs)("div",{className:"cardBlock",children:[Object(b.jsxs)("div",{className:"blockName pr-3",children:[Object(b.jsx)("h2",{className:"mb-3",children:Object(b.jsx)("span",{children:e.name})}),Object(b.jsx)("div",{className:"imageShow",children:Object(b.jsx)("img",{src:e.photo,alt:"recipe ".concat(e.name)})})]}),Object(b.jsxs)("div",{className:"blockIng",children:[Object(b.jsx)("h3",{children:"\u0418\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(b.jsx)("ul",{children:e.ingredients.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsxs)("ul",{className:"d-flex align-items-center justify-content-between fw-bold border-bottom",children:[Object(b.jsxs)("li",{className:"d-flex align-items-center justify-content-start",children:[Object(b.jsx)("p",{className:n&&n.some((function(t){return t.toLowerCase()===e.name.toLowerCase()}))?"activeIngridients":"",children:"\u2714"}),e.name]}),Object(b.jsx)("li",{children:e.quantity})]})},t+e.name)}))})]})]}),Object(b.jsx)("div",{className:"textBlok",children:Object(b.jsx)("p",{children:e.recipe.split(" ").map((function(e,t){return n.join("").toLowerCase()===e.toLowerCase()?Object(b.jsxs)("i",{children:[e," "]},t):Object(b.jsxs)("b",{className:"fw-light",children:[e," "]},t)}))})}),Object(b.jsx)("button",{type:"submit",onClick:function(t){return c(t,e._id)},className:"h-25 p-2 rounded btnClose mt-3",title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442",children:"\u2718"})]},e._id)}))]})},m=c(26),O=c.n(m);c(40);var h=function(e){var t=e.optionList,c=e.setInpIngredientList,s=e.dishPartly,a=e.dishFull,i=Object(n.useState)([]),l=Object(r.a)(i,2),j=l[0],d=l[1],o=Object(n.useState)([]),u=Object(r.a)(o,2),m=u[0],h=u[1],x=Object(n.useRef)();return Object(n.useEffect)((function(){t.length>0&&h(t.map((function(e){return{id:Date.now(),name:e}})))}),[t]),Object(n.useEffect)((function(){c(j.map((function(e){return e.name.toLowerCase()})))}),[j]),Object(n.useEffect)((function(){(s||a)<1&&d([])}),[s,a]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O.a,{className:"datalist",ref:x,tags:j,suggestions:m,onDelete:function(e){var t=j.slice(0);t.splice(e,1),d(t)},onAddition:function(e){var t=j.concat(e);d(t)},minQueryLength:1,placeholderText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})})},x=c(14),p=c.n(x),f=c(27),v=(c(42),c(10)),_=c(15);var N=function(e){var t=e.onDeleteHandler,c=e.id,s=e.valueIngridients,a=e.onChangeHandler,i=e.onAddNewIngredient,l=e.isAddVisible,j=e.isDelete,o=Object(n.useState)(!1),u=Object(r.a)(o,2),m=u[0],O=u[1],h=Object(n.useState)({name:"",quantity:""}),x=Object(r.a)(h,2),p=x[0],f=x[1],N=function(e,t){f(Object(_.a)(Object(_.a)({},p),Object(v.a)({},e,t)))},k=function(){var e=s.find((function(e){return e.testId===c}));""!==e.name&&""!==e.quantity&&(i(),O(!0))};return Object(b.jsxs)("div",{className:"blockInp w-100",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{htmlFor:"name-ingridient",children:["\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",Object(b.jsx)("input",{type:"text",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",autoComplete:"false",className:"inputName",name:"name",id:"name-ingridient",value:s.name,onChange:function(e){N(e.target.name,e.target.value),a(c,e.target.name,e.target.value)},disabled:m,onKeyPress:function(e){"Enter"===e.key&&k()}})]}),Object(b.jsxs)("label",{htmlFor:"name-quantity",children:["\u0433\u0440\u0430\u043c\u043e\u0432\u043a\u0438",Object(b.jsx)("input",{type:"text",placeholder:"\u0433\u0440\u0430\u043c\u043e\u0432\u043a\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",autoComplete:"false",className:"inputName",name:"quantity",id:"name-quantity",value:s.quantity,onChange:function(e){a(c,e.target.name,e.target.value),N(e.target.name,e.target.value)},disabled:m,onKeyPress:function(e){"Enter"===e.key&&k()}})]})]}),l&&Object(b.jsx)(d.a,{style:{backgroundColor:"rgba(233,79,8, 1)",border:"none"},type:"button",className:"ml-3",disabled:""===p.name||""===p.quantity,onClick:k,children:"+"}),j&&Object(b.jsx)(d.a,{style:{backgroundColor:"rgba(233,79,8, 1)",border:"none"},type:"button",className:"ml-3",onClick:function(){return t(c)},children:"-"})]})},k=c(11),g=c.n(k),y=c(28),C=c.n(y);var w=function(e){var t=e.closeAddRecipeModal,c=Object(n.useState)([]),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(""),j=Object(r.a)(l,2),o=j[0],u=j[1],m=Object(n.useState)(""),O=Object(r.a)(m,2),h=O[0],x=O[1],v=Object(n.useState)(null),_=Object(r.a)(v,2),k=_[0],y=_[1],w=function(e){e.preventDefault(),i(a.concat())},I=function(e,t,c){var n=a.map((function(n){if(n.testId===e){var s=n;return s[t]=c,s}return n}));i(n)},F=function(){i(a.concat([{testId:Date.now(),name:"",quantity:""}]))},S=function(e){i(a.filter((function(t){return t.testId!==e})))};Object(n.useEffect)((function(){i(a.concat([{testId:Date.now(),name:"",quantity:""}]))}),[i]);var L=function(){var e=Object(f.a)(p.a.mark((function e(c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n={name:o,photo:k,ingredients:a.filter((function(e){return""!==e.name&&delete e.testId})),recipe:h},e.prev=2,e.next=5,g.a.post("https://selection-recipe.herokuapp.com/api/recipe/dish",n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0.message);case 10:t();case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"Escape"===e.key&&t()}))}),[t]),Object(b.jsxs)("div",{className:"add-recipe",children:[Object(b.jsx)("h1",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442"}),Object(b.jsx)(d.a,{variant:"secondary",type:"submit",className:"closeButtonModal",onClick:t,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u2718"}),Object(b.jsxs)("form",{autoComplete:"new-password",children:[Object(b.jsxs)("label",{htmlFor:"name-recipe",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 *",Object(b.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",className:"inputName",name:"name",id:"name-recipe",value:o,onChange:function(e){e.preventDefault(),u(e.target.value)},title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",autoFocus:!0})]}),k?Object(b.jsx)(b.Fragment,{children:k&&Object(b.jsx)("img",{src:k,alt:"recipe",style:{width:"220px",marginLeft:"15px"}})}):Object(b.jsxs)("label",{htmlFor:"name-recipe",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e *",Object(b.jsx)("input",{type:"file",className:"blockInp ml-1",name:"nameFile",id:"name-file",onChange:function(e){e.preventDefault(),function(e){C.a.imageFileResizer(e,250,200,"JPEG",80,0,(function(e){y(e)}),"base64",250,200)}(e.target.files[0])},title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"})]}),a.map((function(e,t){return Object(b.jsx)(N,{id:e.testId,onDeleteHandler:S,onAddNewIngredient:F,valueIngridients:a,onChangeHandler:I,addRecipeHandler:w,isAddVisible:a.length-1===t,isDelete:a.length>1},e.testId)})),Object(b.jsx)("textarea",{name:"recipeDescription",cols:"30",rows:"10",className:"textareaName",placeholder:"\u0416\u0443\u043b\u044c\u0435\u043d - \u0442\u0435\u043f\u043b\u044b\u0435 \u0437\u0430\u043a\u0443\u0441\u043a\u0438... *",value:h,onChange:function(e){e.preventDefault(),x(e.target.value)},title:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"}),Object(b.jsx)("p",{className:"pb-2",children:"* \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),o&&k&&a&&h?Object(b.jsx)(d.a,{style:{backgroundColor:"rgba(237,174,1, 1)",border:"none"},type:"button",onClick:L,title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u2714"}):Object(b.jsx)(d.a,{style:{backgroundColor:"rgba(142,104,89, 1)",border:"none"},type:"button",disabled:!0,title:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u2718"})]})]})};c(62);function I(){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"bike",children:[Object(b.jsx)("div",{className:"bike__cloud-1"}),Object(b.jsx)("div",{className:"bike__cloud-2"}),Object(b.jsx)("div",{className:"bike__cloud-3"}),Object(b.jsxs)("div",{className:"bike__bike",children:[Object(b.jsxs)("div",{className:"bike__wheel",children:[Object(b.jsx)("div",{className:"bike__needle"}),Object(b.jsx)("div",{className:"bike__needle"}),Object(b.jsx)("div",{className:"bike__needle"})]}),Object(b.jsxs)("div",{className:"bike__wheel",children:[Object(b.jsx)("div",{className:"bike__needle"}),Object(b.jsx)("div",{className:"bike__needle"}),Object(b.jsx)("div",{className:"bike__needle"})]}),Object(b.jsx)("div",{className:"bike__down-tube"}),Object(b.jsxs)("div",{className:"bike__tubes",children:[Object(b.jsx)("div",{className:"bike__chain"}),Object(b.jsx)("div",{className:"bike__seat-stays"}),Object(b.jsx)("div",{className:"bike__chain-stays"}),Object(b.jsx)("div",{className:"bike__seat-tube"}),Object(b.jsx)("div",{className:"bike__star",children:Object(b.jsx)("div",{className:"bike__pedal"})}),Object(b.jsx)("div",{className:"bike__seat"})]}),Object(b.jsx)("div",{className:"bike__top-tube"}),Object(b.jsx)("div",{className:"bike__fo"}),Object(b.jsx)("div",{className:"bike__head-tube"}),Object(b.jsx)("div",{className:"bike__helm"}),Object(b.jsx)("div",{className:"bike__lock"})]}),Object(b.jsxs)("div",{className:"bike__man",children:[Object(b.jsxs)("div",{className:"bike__arm",children:[Object(b.jsx)("div",{className:"bike__forearm",children:Object(b.jsx)("div",{className:"bike__hand"})}),Object(b.jsx)("div",{className:"bike__sleeve"})]}),Object(b.jsx)("div",{className:"bike__back-leg",children:Object(b.jsxs)("div",{className:"bike__shin",children:[Object(b.jsx)("div",{className:"bike__skin"}),Object(b.jsx)("div",{className:"bike__ked"})]})}),Object(b.jsx)("div",{className:"bike__butt"}),Object(b.jsx)("div",{className:"bike__front-leg",children:Object(b.jsxs)("div",{className:"bike__shin",children:[Object(b.jsx)("div",{className:"bike__skin"}),Object(b.jsx)("div",{className:"bike__ked"})]})}),Object(b.jsx)("div",{className:"bike__shirt",children:Object(b.jsx)("div",{className:"bike__collar"})}),Object(b.jsxs)("div",{className:"bike__arm",children:[Object(b.jsx)("div",{className:"bike__forearm",children:Object(b.jsx)("div",{className:"bike__hand"})}),Object(b.jsx)("div",{className:"bike__sleeve"})]}),Object(b.jsxs)("div",{className:"bike__head",children:[Object(b.jsx)("div",{className:"bike__eye"}),Object(b.jsx)("div",{className:"bike__eye"}),Object(b.jsx)("div",{className:"bike__whisker"}),Object(b.jsx)("div",{className:"bike__nose"}),Object(b.jsx)("div",{className:"bike__month"}),Object(b.jsx)("div",{className:"bike__whisker"}),Object(b.jsx)("div",{className:"bike__cap",children:Object(b.jsx)("div",{className:"bike__peak",children:Object(b.jsx)("div",{className:"bike__peak-parts"})})})]})]})]})})}var F=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),i=Object(r.a)(a,2),m=i[0],O=i[1],x=Object(n.useState)([]),p=Object(r.a)(x,2),f=p[0],v=p[1],_=Object(n.useState)([]),N=Object(r.a)(_,2),k=N[0],y=N[1],C=Object(n.useState)([]),F=Object(r.a)(C,2),S=F[0],L=F[1],D=Object(n.useState)(!1),E=Object(r.a)(D,2),R=E[0],H=E[1],q=Object(n.useState)(!0),P=Object(r.a)(q,2),A=P[0],B=P[1],V=function(e){var t=[],n=[];e.preventDefault(),s(c),S.forEach((function(e){var s=e.ingredients.map((function(e){return e.name.toLowerCase()}));M(s,c)?t.push(e):c.every((function(e){return s.includes(e)}))&&n.push(e)})),v(t),y(n)},M=function(e,t){return e=e.sort(),t=t.sort(),e.length===t.length&&e.every((function(e,c){return e===t[c]}))};return Object(n.useEffect)((function(){g.a.get("https://selection-recipe.herokuapp.com/api/recipe/dish").then((function(e){L(e.data)})),B(!1)}),[]),Object(n.useEffect)((function(){var e=[];S.forEach((function(t){t.ingredients.map((function(t){return t.name?e.push(t.name[0].toUpperCase()+t.name.slice(1)):t.name}))})),O(Object(l.a)(new Set(e.sort())))}),[S]),Object(n.useEffect)((function(){}),[c]),A?Object(b.jsx)(I,{}):Object(b.jsxs)("div",{className:"form",children:[Object(b.jsxs)(j.a,{className:"inputGroup",children:[Object(b.jsx)(h,{optionList:m,setInpIngredientList:function(e){s(e)},submitHandler:V,dishPartly:k,dishFull:f}),Object(b.jsx)(d.a,{className:"mt-1 w-100",style:{backgroundColor:"rgba(237,174,1, 1)",border:"none"},type:"submit",onClick:V,disabled:0===c.length||""===c[0],children:"\u041f\u043e\u0438\u0441\u043a \u21ba"})]}),R&&Object(b.jsx)(w,{closeAddRecipeModal:function(){H(!1)}}),!(f.length>0||k.length>0||c.length>0)&&Object(b.jsx)("h1",{className:"text-center mt-5",children:"\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(b.jsx)(b.Fragment,{children:f.length>0&&Object(b.jsx)(o,{productReciept:f,deleteRecipeHandlerFull:function(e,t){e.preventDefault(),v(f.filter((function(e){return e._id!==t})))},inpValue:c})}),Object(b.jsx)(b.Fragment,{children:k.length>0&&Object(b.jsx)(u,{productReciept:k,deleteRecipeHandlerPartly:function(e,t){e.preventDefault(),y(k.filter((function(e){return e._id!==t})))},inpValue:c})}),Object(b.jsx)("div",{className:"buttonCleanPosition",children:Object(b.jsx)(d.a,{style:{backgroundColor:"rgba(237,174,1, 1)",border:"none"},type:"submit",onClick:function(){v([]),y([])},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442\u044b"})})]})};var S=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("h1",{children:["\u0420\u0435\u0446\u0435\u043f\u0442\u044b ",Object(b.jsx)("span",{style:{color:"red"},children:"*demo"})]}),Object(b.jsx)(F,{}),Object(b.jsx)("p",{className:"pt-3 copyright",children:"copyright \xa9 2021 version 0.1"})]})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),L()}},[[63,1,2]]]);
//# sourceMappingURL=main.112865a4.chunk.js.map